version: "3"

networks:
  default_network_name:
    driver: bridge
    ipam:
      config:
        - subnet: default_ip.0/24
          gateway: default_ip.252

services:
  mongo:
    container_name: 1_mongo
    image: 1_mongo:latest
    restart: unless-stopped
    ports:
      - 27017:27017
      - 3000:3000
    networks:
      default_network_name:
        ipv4_address: default_ip.1
    volumes:
      - ./data:/data/db
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
 
  hss:
    container_name: 4_hss
    build:
      image: hss:latest
      context: ./coreimages-run/4_hss
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.8
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - mongo

  pcrf:
    container_name: 4_pcrf
    build:
      image: pcrf:latest
      context: ./coreimages-run/4_pcrf
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.9
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - mongo

  mme:
    container_name: 4_mme
    build:
      image: mme:latest
      context: ./coreimages-run/4_mme
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.2
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - hss

  sgwc:
    container_name: 4_sgwc
    build:
      image: sgwc:latest
      context: ./coreimages-run/4_sgwc
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.3
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - mme

  sgwu:
    container_name: 4_sgwu
    build:
      image: sgwu:latest
      context: ./coreimages-run/4_sgwu
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.6
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - sgwc

  udr:
    container_name: 5_udr
    build:
      image: udr:latest
      context: ./coreimages-run/5_udr
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.20
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - mongo

  udm:
    container_name: 5_udm
    build:
      image: udm:latest
      context: ./coreimages-run/5_udm
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.12
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - udr

  smf:
    container_name: 5_smf
    build:
      image: smf:latest
      context: ./coreimages-run/5_smf
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.4
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - pcrf

  amf:
    container_name: 5_amf
    build:
      image: amf:latest
      context: ./coreimages-run/5_amf
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.5
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - udr

  upf:
    container_name: 5_upf
    build:
      image: upf:latest
      context: ./coreimages-run/5_upf
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.7
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - udr

  nrf:
    container_name: 5_nrf
    build:
      image: nrf:latest
      context: ./coreimages-run/5_nrf
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.10
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - udr

  scp:
    container_name: 5_scp
    build:
      image: scp:latest
      context: ./coreimages-run/5_scp
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.200
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - udr

  ausf:
    container_name: 5_ausf
    build:
      image: ausf:latest
      context: ./coreimages-run/5_ausf
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.11
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - udr

  pcf:
    container_name: 5_pcf
    build:
      image: pcf:latest
      context: ./coreimages-run/5_pcf
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.13
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - udr

  nssf:
    container_name: 5_nssf
    build:
      image: nssf:latest
      context: ./coreimages-run/5_nssf
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.14
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - udr

  bsf:
    container_name: 5_bsf
    build:
      image: bsf:latest
      context: ./coreimages-run/5_bsf
      dockerfile: containerfile
    restart: unless-stopped
    networks:
      default_network_name:
        ipv4_address: default_ip.15
    stdin_open: true
    tty: true
    privileged: true
    entrypoint: /sbin/init
    depends_on:
      - udr
